<Window x:Class="Coach_search.MVVM.View.TutorDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d" 
        Title="Профиль репетитора"
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MahApps.Brushes.ThemeBackground}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Grid.Row="0" 
                   Text="Профиль репетитора" 
                   FontSize="24" 
                   FontWeight="Bold" 
                   Margin="0,0,0,20" 
                   Foreground="#333"/>

        <!-- Основная информация -->
        <StackPanel Grid.Row="1">
            <!-- Аватарка -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                <Ellipse Width="100" Height="100" Margin="0,0,15,0">
                    <Ellipse.Fill>
                        <ImageBrush ImageSource="{Binding AvatarPath, FallbackValue=W:\Labs_sem4\course_project\Coach_search\Coach_search\MVVM\View\images\icons\defaultavatar.png}"/>
                    </Ellipse.Fill>
                </Ellipse>
            </StackPanel>

            <!-- Имя -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Имя:" Width="100" VerticalAlignment="Center" FontWeight="Bold"/>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" FontSize="16"/>
            </StackPanel>

            <!-- Предмет -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Предмет:" Width="100" VerticalAlignment="Center" FontWeight="Bold"/>
                <TextBlock Text="{Binding Subject}" VerticalAlignment="Center" FontSize="16"/>
            </StackPanel>

            <!-- Цена -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Цена за час:" Width="100" VerticalAlignment="Center" FontWeight="Bold"/>
                <TextBlock Text="{Binding PricePerHour, StringFormat={}{0} ₽/ч}" VerticalAlignment="Center" FontSize="16"/>
            </StackPanel>

            <!-- Рейтинг -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Рейтинг:" Width="100" VerticalAlignment="Center" FontWeight="Bold"/>
                <TextBlock Text="{Binding Rating, StringFormat={}{0:F1} ★}" VerticalAlignment="Center" FontSize="16"/>
            </StackPanel>

            <!-- Описание -->
            <StackPanel Margin="0,0,0,15">
                <TextBlock Text="Описание:" Margin="0,0,0,5" FontWeight="Bold"/>
                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" MaxHeight="100" FontSize="14"/>
            </StackPanel>

            <!-- Отзывы -->
            <StackPanel Margin="0,0,0,15">
                <TextBlock Text="Отзывы:" Margin="0,0,0,5" FontWeight="Bold"/>
                <ListBox ItemsSource="{Binding Reviews}" Height="100" Margin="0,0,0,10">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding Rating, StringFormat=Рейтинг: {0} ★}" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Text}" TextWrapping="Wrap"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>

            <!-- Кнопка закрытия -->
            <Button Content="Закрыть" 
                    Command="{Binding CloseCommand}" 
                    Style="{DynamicResource MahApps.Styles.Button}"
                    Background="#42A5F5"
                    BorderBrush="#42A5F5"
                    Padding="15,5"
                    HorizontalAlignment="Right"
                    mah:ControlsHelper.CornerRadius="5"
                    Width="100"/>
        </StackPanel>
    </Grid>
</Window>